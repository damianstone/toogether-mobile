{"version":3,"sources":["createNavigationAwareScrollable.js"],"names":["createNavigationAwareScrollable","Component","ComponentWithNavigationScrolling","React","PureComponent","componentDidMount","_subscription","props","navigation","addListener","scrollableNode","getNode","isFocused","scrollToTop","scrollTo","y","scrollResponderScrollTo","componentWillUnmount","remove","_scrollRef","getScrollResponder","render","view","displayName","name","NavigationAwareScrollable","_innerRef","onRef","args","setNativeProps","getScrollableNode","getInnerViewNode","scrollToEnd","scrollWithoutAnimationTo","flashScrollIndicators","_captureRef"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\n\nexport default function createNavigationAwareScrollable(Component) {\n  const ComponentWithNavigationScrolling = withNavigation(\n    class extends React.PureComponent {\n      static displayName = `withNavigationScrolling(${\n        Component.displayName || Component.name\n      })`;\n\n      componentDidMount() {\n        this._subscription = this.props.navigation.addListener(\n          'refocus',\n          () => {\n            const scrollableNode = this.getNode();\n            if (this.props.navigation.isFocused() && scrollableNode !== null) {\n              if (scrollableNode.scrollToTop != null) {\n                scrollableNode.scrollToTop();\n              } else if (scrollableNode.scrollTo != null) {\n                scrollableNode.scrollTo({ y: 0 });\n              } else if (scrollableNode.scrollResponderScrollTo != null) {\n                scrollableNode.scrollResponderScrollTo({ y: 0 });\n              }\n            }\n          }\n        );\n      }\n\n      componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n\n      getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n\n      render() {\n        return (\n          <Component\n            ref={(view) => {\n              this._scrollRef = view;\n            }}\n            {...this.props}\n          />\n        );\n      }\n    }\n  );\n\n  class NavigationAwareScrollable extends React.PureComponent {\n    static displayName = `NavigationAwareScrollable(${\n      Component.displayName || Component.name\n    })`;\n\n    _captureRef = (view) => {\n      this._innerRef = view;\n      this.props.onRef && this.props.onRef(view);\n    };\n\n    setNativeProps = (...args) => {\n      return this._innerRef.getNode().setNativeProps(...args);\n    };\n\n    getScrollResponder = (...args) => {\n      return this._innerRef.getNode().getScrollResponder(...args);\n    };\n\n    getScrollableNode = (...args) => {\n      return this._innerRef.getNode().getScrollableNode(...args);\n    };\n\n    getInnerViewNode = (...args) => {\n      return this._innerRef.getNode().getInnerViewNode(...args);\n    };\n\n    scrollTo = (...args) => {\n      return this._innerRef.getNode().scrollTo(...args);\n    };\n\n    scrollToEnd = (...args) => {\n      return this._innerRef.getNode().scrollToEnd(...args);\n    };\n\n    scrollWithoutAnimationTo = (...args) => {\n      return this._innerRef.getNode().scrollWithoutAnimationTo(...args);\n    };\n\n    flashScrollIndicators = (...args) => {\n      return this._innerRef.getNode().flashScrollIndicators(...args);\n    };\n\n    render() {\n      return (\n        <ComponentWithNavigationScrolling\n          {...this.props}\n          onRef={this._captureRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(NavigationAwareScrollable, Component);\n}\n"]}
{"version":3,"sources":["createKeyboardAwareNavigator.js"],"names":["Navigator","navigatorConfig","KeyboardAwareNavigator","React","Component","_previouslyFocusedTextInput","TextInput","State","currentlyFocusedInput","currentlyFocusedField","blurTextInput","props","onGestureBegin","focusTextInput","onGestureCanceled","onGestureFinish","transitionProps","prevTransitionProps","index","currentField","onTransitionStart","render","_handleGestureBegin","_handleGestureCanceled","_handleGestureEnd","_handleTransitionStart","router","navigationOptions"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;eAEe,CAACA,SAAD,EAAYC,eAAZ;AAAA;;AAAA,0BACb,MAAMC,sBAAN,SAAqCC,KAAK,CAACC,SAA3C,CAAqD;AAAA;AAAA;;AAAA,2DAGrB,IAHqB;;AAAA,mDAK7B,MAAM;AAC1B,aAAKC,2BAAL,GAAmCC,uBAAUC,KAAV,CAAgBC,qBAAhB,GAC/BF,uBAAUC,KAAV,CAAgBC,qBAAhB,EAD+B,GAE/BF,uBAAUC,KAAV,CAAgBE,qBAAhB,EAFJ;;AAGA,YAAI,KAAKJ,2BAAT,EAAsC;AACpCC,iCAAUC,KAAV,CAAgBG,aAAhB,CAA8B,KAAKL,2BAAnC;AACD;;AACD,aAAKM,KAAL,CAAWC,cAAX,IAA6B,KAAKD,KAAL,CAAWC,cAAX,EAA7B;AACD,OAbkD;;AAAA,sDAe1B,MAAM;AAC7B,YAAI,KAAKP,2BAAT,EAAsC;AACpCC,iCAAUC,KAAV,CAAgBM,cAAhB,CAA+B,KAAKR,2BAApC;AACD;;AACD,aAAKM,KAAL,CAAWG,iBAAX,IAAgC,KAAKH,KAAL,CAAWG,iBAAX,EAAhC;AACD,OApBkD;;AAAA,iDAsB/B,MAAM;AACxB,aAAKT,2BAAL,GAAmC,IAAnC;AACA,aAAKM,KAAL,CAAWI,eAAX,IAA8B,KAAKJ,KAAL,CAAWI,eAAX,EAA9B;AACD,OAzBkD;;AAAA,sDA2B1B,CAACC,eAAD,EAAkBC,mBAAlB,KAA0C;AACjE;AACA;AACA;AACA,YAAID,eAAe,CAACE,KAAhB,KAA0BD,mBAAmB,CAACC,KAAlD,EAAyD;AACvD,gBAAMC,YAAY,GAAGb,uBAAUC,KAAV,CAAgBC,qBAAhB,GACjBF,uBAAUC,KAAV,CAAgBC,qBAAhB,EADiB,GAEjBF,uBAAUC,KAAV,CAAgBE,qBAAhB,EAFJ;;AAGA,cAAIU,YAAJ,EAAkB;AAChBb,mCAAUC,KAAV,CAAgBG,aAAhB,CAA8BS,YAA9B;AACD;AACF;;AAED,cAAMC,iBAAiB,GACrB,KAAKT,KAAL,CAAWS,iBAAX,IAAgCnB,eAAe,CAACmB,iBADlD;AAEAA,QAAAA,iBAAiB,IACfA,iBAAiB,CAACJ,eAAD,EAAkBC,mBAAlB,CADnB;AAED,OA5CkD;AAAA;;AA8CnDI,IAAAA,MAAM,GAAG;AACP,0BACE,oBAAC,SAAD,eACM,KAAKV,KADX;AAEE,QAAA,cAAc,EAAE,KAAKW,mBAFvB;AAGE,QAAA,iBAAiB,EAAE,KAAKC,sBAH1B;AAIE,QAAA,YAAY,EAAE,KAAKC,iBAJrB;AAKE,QAAA,iBAAiB,EAAE,KAAKC;AAL1B,SADF;AASD;;AAxDkD,GADxC,oCAEKzB,SAAS,CAAC0B,MAFf,gDAGgB1B,SAAS,CAAC2B,iBAH1B;AAAA,C","sourcesContent":["import * as React from 'react';\nimport { TextInput } from 'react-native';\n\nexport default (Navigator, navigatorConfig) =>\n  class KeyboardAwareNavigator extends React.Component {\n    static router = Navigator.router;\n    static navigationOptions = Navigator.navigationOptions;\n    _previouslyFocusedTextInput = null;\n\n    _handleGestureBegin = () => {\n      this._previouslyFocusedTextInput = TextInput.State.currentlyFocusedInput\n        ? TextInput.State.currentlyFocusedInput()\n        : TextInput.State.currentlyFocusedField();\n      if (this._previouslyFocusedTextInput) {\n        TextInput.State.blurTextInput(this._previouslyFocusedTextInput);\n      }\n      this.props.onGestureBegin && this.props.onGestureBegin();\n    };\n\n    _handleGestureCanceled = () => {\n      if (this._previouslyFocusedTextInput) {\n        TextInput.State.focusTextInput(this._previouslyFocusedTextInput);\n      }\n      this.props.onGestureCanceled && this.props.onGestureCanceled();\n    };\n\n    _handleGestureEnd = () => {\n      this._previouslyFocusedTextInput = null;\n      this.props.onGestureFinish && this.props.onGestureFinish();\n    };\n\n    _handleTransitionStart = (transitionProps, prevTransitionProps) => {\n      // TODO: We should not even have received the transition start event\n      // in the case where the index did not change, I believe. We\n      // should revisit this after 2.0 release.\n      if (transitionProps.index !== prevTransitionProps.index) {\n        const currentField = TextInput.State.currentlyFocusedInput\n          ? TextInput.State.currentlyFocusedInput()\n          : TextInput.State.currentlyFocusedField();\n        if (currentField) {\n          TextInput.State.blurTextInput(currentField);\n        }\n      }\n\n      const onTransitionStart =\n        this.props.onTransitionStart || navigatorConfig.onTransitionStart;\n      onTransitionStart &&\n        onTransitionStart(transitionProps, prevTransitionProps);\n    };\n\n    render() {\n      return (\n        <Navigator\n          {...this.props}\n          onGestureBegin={this._handleGestureBegin}\n          onGestureCanceled={this._handleGestureCanceled}\n          onGestureEnd={this._handleGestureEnd}\n          onTransitionStart={this._handleTransitionStart}\n        />\n      );\n    }\n  };\n"]}
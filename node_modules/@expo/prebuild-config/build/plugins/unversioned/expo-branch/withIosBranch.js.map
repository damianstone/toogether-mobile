{"version":3,"sources":["../../../../src/plugins/unversioned/expo-branch/withIosBranch.ts"],"names":["withIosBranch","config","modResults","setBranchApiKey","getBranchApiKey","ios","branch","apiKey","infoPlist","branch_key","live"],"mappings":";;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGO,MAAMA,aAA2B,GAAGC,MAAM,IAAI;AACnD,SAAO,oCAAcA,MAAd,EAAsBA,MAAM,IAAI;AACrCA,IAAAA,MAAM,CAACC,UAAP,GAAoBC,eAAe,CAACF,MAAD,EAASA,MAAM,CAACC,UAAhB,CAAnC;AACA,WAAOD,MAAP;AACD,GAHM,CAAP;AAID,CALM;;;;AAOA,SAASG,eAAT,CAAyBH,MAAzB,EAA0D;AAAA;;AAC/D,iDAAOA,MAAM,CAACI,GAAd,sEAAO,YAAYJ,MAAnB,iFAAO,mBAAoBK,MAA3B,2DAAO,uBAA4BC,MAAnC,yEAA6C,IAA7C;AACD;;AAEM,SAASJ,eAAT,CAAyBF,MAAzB,EAA0DO,SAA1D,EAA2F;AAChG,QAAMD,MAAM,GAAGH,eAAe,CAACH,MAAD,CAA9B;;AAEA,MAAIM,MAAM,KAAK,IAAf,EAAqB;AACnB,WAAOC,SAAP;AACD;;AAED,SAAO,EACL,GAAGA,SADE;AAELC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAEH;AADI;AAFP,GAAP;AAMD","sourcesContent":["import { ConfigPlugin, InfoPlist, withInfoPlist } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nexport const withIosBranch: ConfigPlugin = config => {\n  return withInfoPlist(config, config => {\n    config.modResults = setBranchApiKey(config, config.modResults);\n    return config;\n  });\n};\n\nexport function getBranchApiKey(config: Pick<ExpoConfig, 'ios'>) {\n  return config.ios?.config?.branch?.apiKey ?? null;\n}\n\nexport function setBranchApiKey(config: Pick<ExpoConfig, 'ios'>, infoPlist: InfoPlist): InfoPlist {\n  const apiKey = getBranchApiKey(config);\n\n  if (apiKey === null) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    branch_key: {\n      live: apiKey,\n    },\n  };\n}\n"],"file":"withIosBranch.js"}
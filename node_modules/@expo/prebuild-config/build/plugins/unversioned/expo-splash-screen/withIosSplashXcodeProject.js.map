{"version":3,"file":"withIosSplashXcodeProject.js","names":["debug","require","withIosSplashXcodeProject","config","withXcodeProject","modResults","setSplashStoryboardAsync","projectName","modRequest","project","storyboardFilePath","path","join","STORYBOARD_FILE_PATH","hasFile","IOSConfig","XcodeUtils","addResourceFileToGroup","filepath","groupName"],"sources":["../../../../src/plugins/unversioned/expo-splash-screen/withIosSplashXcodeProject.ts"],"sourcesContent":["import { ConfigPlugin, IOSConfig, withXcodeProject } from '@expo/config-plugins';\nimport path from 'path';\nimport { XcodeProject } from 'xcode';\n\nimport { STORYBOARD_FILE_PATH } from './withIosSplashScreenStoryboard';\n\nconst debug = require('debug')(\n  'expo:prebuild-config:expo-splash-screen:ios:xcodeproj'\n) as typeof console.log;\n\nexport const withIosSplashXcodeProject: ConfigPlugin = (config) => {\n  return withXcodeProject(config, async (config) => {\n    config.modResults = await setSplashStoryboardAsync({\n      projectName: config.modRequest.projectName!,\n      project: config.modResults,\n    });\n    return config;\n  });\n};\n\n/**\n * Modifies `.pbxproj` by:\n * - adding reference for `.storyboard` file\n */\nexport async function setSplashStoryboardAsync({\n  projectName,\n  project,\n}: {\n  projectName: string;\n  project: XcodeProject;\n}): Promise<XcodeProject> {\n  // Check if `${projectName}/SplashScreen.storyboard` already exists\n  // Path relative to `ios` directory\n  const storyboardFilePath = path.join(projectName, STORYBOARD_FILE_PATH);\n  if (!project.hasFile(storyboardFilePath)) {\n    debug(`Adding ${storyboardFilePath} to Xcode project`);\n    IOSConfig.XcodeUtils.addResourceFileToGroup({\n      filepath: storyboardFilePath,\n      groupName: projectName,\n      project,\n    });\n  }\n\n  return project;\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAGA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CACZ,uDADY,CAAd;;AAIO,MAAMC,yBAAuC,GAAIC,MAAD,IAAY;EACjE,OAAO,IAAAC,iCAAA,EAAiBD,MAAjB,EAAyB,MAAOA,MAAP,IAAkB;IAChDA,MAAM,CAACE,UAAP,GAAoB,MAAMC,wBAAwB,CAAC;MACjDC,WAAW,EAAEJ,MAAM,CAACK,UAAP,CAAkBD,WADkB;MAEjDE,OAAO,EAAEN,MAAM,CAACE;IAFiC,CAAD,CAAlD;IAIA,OAAOF,MAAP;EACD,CANM,CAAP;AAOD,CARM;AAUP;AACA;AACA;AACA;;;;;AACO,eAAeG,wBAAf,CAAwC;EAC7CC,WAD6C;EAE7CE;AAF6C,CAAxC,EAMmB;EACxB;EACA;EACA,MAAMC,kBAAkB,GAAGC,eAAA,CAAKC,IAAL,CAAUL,WAAV,EAAuBM,qDAAvB,CAA3B;;EACA,IAAI,CAACJ,OAAO,CAACK,OAAR,CAAgBJ,kBAAhB,CAAL,EAA0C;IACxCV,KAAK,CAAE,UAASU,kBAAmB,mBAA9B,CAAL;;IACAK,0BAAA,CAAUC,UAAV,CAAqBC,sBAArB,CAA4C;MAC1CC,QAAQ,EAAER,kBADgC;MAE1CS,SAAS,EAAEZ,WAF+B;MAG1CE;IAH0C,CAA5C;EAKD;;EAED,OAAOA,OAAP;AACD"}
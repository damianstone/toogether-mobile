{"version":3,"file":"getIosSplashConfig.js","names":["defaultResizeMode","defaultBackgroundColor","getIosSplashConfig","config","ios","splash","image","resizeMode","backgroundColor","tabletImage","tabletBackgroundColor","dark","warnUnsupportedSplashProperties","xib","WarningAggregator","addWarningIOS"],"sources":["../../../../src/plugins/unversioned/expo-splash-screen/getIosSplashConfig.ts"],"sourcesContent":["import { WarningAggregator } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\ntype ExpoConfigIosSplash = NonNullable<NonNullable<ExpoConfig['ios']>['splash']>;\n\nconst defaultResizeMode = 'contain';\nconst defaultBackgroundColor = '#ffffff';\n\nexport interface IOSSplashConfig {\n  image?: string | null;\n  // tabletImage: string | null;\n  backgroundColor: string;\n  resizeMode: NonNullable<ExpoConfigIosSplash['resizeMode']>;\n  tabletImage: string | null;\n  // TODO: These are here just to test the functionality, the API should be more robust and account for tablet images.\n  tabletBackgroundColor: string | null;\n  dark?: {\n    image?: string | null;\n    backgroundColor?: string | null;\n    tabletImage?: string | null;\n    tabletBackgroundColor?: string | null;\n  };\n}\n\n// TODO: Maybe use an array on splash with theme value. Then remove the array in serialization for legacy and manifest.\nexport function getIosSplashConfig(config: ExpoConfig): IOSSplashConfig | null {\n  // Respect the splash screen object, don't mix and match across different splash screen objects\n  // in case the user wants the top level splash to apply to every platform except iOS.\n  if (config.ios?.splash) {\n    const splash = config.ios?.splash;\n    const image = splash.image ?? null;\n    return {\n      image,\n      resizeMode: splash.resizeMode ?? defaultResizeMode,\n      backgroundColor: splash.backgroundColor ?? defaultBackgroundColor,\n      tabletImage: splash.tabletImage ?? null,\n      tabletBackgroundColor: splash.tabletBackgroundColor,\n      dark: {\n        image: splash.dark?.image ?? null,\n        backgroundColor: splash.dark?.backgroundColor,\n        tabletImage: splash.dark?.tabletImage ?? null,\n        tabletBackgroundColor: splash.dark?.tabletBackgroundColor,\n      },\n    };\n  }\n\n  if (config.splash) {\n    const splash = config.splash;\n    const image = splash.image ?? null;\n    return {\n      image,\n      resizeMode: splash.resizeMode ?? defaultResizeMode,\n      backgroundColor: splash.backgroundColor ?? defaultBackgroundColor,\n      tabletImage: null,\n      tabletBackgroundColor: null,\n      dark: {\n        image: null,\n        backgroundColor: null,\n        tabletImage: null,\n        tabletBackgroundColor: null,\n      },\n    };\n  }\n\n  return {\n    backgroundColor: '#ffffff',\n    resizeMode: 'contain',\n    tabletImage: null,\n    tabletBackgroundColor: null,\n  };\n}\n\nexport function warnUnsupportedSplashProperties(config: ExpoConfig) {\n  if (config.ios?.splash?.xib) {\n    WarningAggregator.addWarningIOS(\n      'ios.splash.xib',\n      'property is not supported in prebuild. Please use ios.splash.image instead.'\n    );\n  }\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAKA,MAAMA,iBAAiB,GAAG,SAA1B;AACA,MAAMC,sBAAsB,GAAG,SAA/B;;AAkBA;AACO,SAASC,kBAAT,CAA4BC,MAA5B,EAAwE;EAAA;;EAC7E;EACA;EACA,mBAAIA,MAAM,CAACC,GAAX,wCAAI,YAAYC,MAAhB,EAAwB;IAAA;;IACtB,MAAMA,MAAM,mBAAGF,MAAM,CAACC,GAAV,iDAAG,aAAYC,MAA3B;IACA,MAAMC,KAAK,oBAAGD,MAAM,CAACC,KAAV,yDAAmB,IAA9B;IACA,OAAO;MACLA,KADK;MAELC,UAAU,wBAAEF,MAAM,CAACE,UAAT,mEAAuBP,iBAF5B;MAGLQ,eAAe,2BAAEH,MAAM,CAACG,eAAT,yEAA4BP,sBAHtC;MAILQ,WAAW,yBAAEJ,MAAM,CAACI,WAAT,qEAAwB,IAJ9B;MAKLC,qBAAqB,EAAEL,MAAM,CAACK,qBALzB;MAMLC,IAAI,EAAE;QACJL,KAAK,wCAAED,MAAM,CAACM,IAAT,iDAAE,aAAaL,KAAf,mEAAwB,IADzB;QAEJE,eAAe,mBAAEH,MAAM,CAACM,IAAT,kDAAE,cAAaH,eAF1B;QAGJC,WAAW,4CAAEJ,MAAM,CAACM,IAAT,kDAAE,cAAaF,WAAf,yEAA8B,IAHrC;QAIJC,qBAAqB,mBAAEL,MAAM,CAACM,IAAT,kDAAE,cAAaD;MAJhC;IAND,CAAP;EAaD;;EAED,IAAIP,MAAM,CAACE,MAAX,EAAmB;IAAA;;IACjB,MAAMA,MAAM,GAAGF,MAAM,CAACE,MAAtB;IACA,MAAMC,KAAK,qBAAGD,MAAM,CAACC,KAAV,2DAAmB,IAA9B;IACA,OAAO;MACLA,KADK;MAELC,UAAU,yBAAEF,MAAM,CAACE,UAAT,qEAAuBP,iBAF5B;MAGLQ,eAAe,4BAAEH,MAAM,CAACG,eAAT,2EAA4BP,sBAHtC;MAILQ,WAAW,EAAE,IAJR;MAKLC,qBAAqB,EAAE,IALlB;MAMLC,IAAI,EAAE;QACJL,KAAK,EAAE,IADH;QAEJE,eAAe,EAAE,IAFb;QAGJC,WAAW,EAAE,IAHT;QAIJC,qBAAqB,EAAE;MAJnB;IAND,CAAP;EAaD;;EAED,OAAO;IACLF,eAAe,EAAE,SADZ;IAELD,UAAU,EAAE,SAFP;IAGLE,WAAW,EAAE,IAHR;IAILC,qBAAqB,EAAE;EAJlB,CAAP;AAMD;;AAEM,SAASE,+BAAT,CAAyCT,MAAzC,EAA6D;EAAA;;EAClE,oBAAIA,MAAM,CAACC,GAAX,gEAAI,aAAYC,MAAhB,gDAAI,oBAAoBQ,GAAxB,EAA6B;IAC3BC,kCAAA,CAAkBC,aAAlB,CACE,gBADF,EAEE,6EAFF;EAID;AACF"}
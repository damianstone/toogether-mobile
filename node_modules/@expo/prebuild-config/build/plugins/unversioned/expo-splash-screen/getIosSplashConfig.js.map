{"version":3,"sources":["../../../../src/plugins/unversioned/expo-splash-screen/getIosSplashConfig.ts"],"names":["defaultResizeMode","defaultBackgroundColor","getIosSplashConfig","config","ios","splash","image","resizeMode","backgroundColor","tabletImage","tabletBackgroundColor","dark","warnUnsupportedSplashProperties","xib","WarningAggregator","addWarningIOS"],"mappings":";;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAKA,MAAMA,iBAAiB,GAAG,SAA1B;AACA,MAAMC,sBAAsB,GAAG,SAA/B;;AAkBA;AACO,SAASC,kBAAT,CAA4BC,MAA5B,EAAwE;AAAA;;AAC7E;AACA;AACA,qBAAIA,MAAM,CAACC,GAAX,wCAAI,YAAYC,MAAhB,EAAwB;AAAA;;AACtB,UAAMA,MAAM,mBAAGF,MAAM,CAACC,GAAV,iDAAG,aAAYC,MAA3B;AACA,UAAMC,KAAK,oBAAGD,MAAM,CAACC,KAAV,yDAAmB,IAA9B;AACA,WAAO;AACLA,MAAAA,KADK;AAELC,MAAAA,UAAU,wBAAEF,MAAM,CAACE,UAAT,mEAAuBP,iBAF5B;AAGLQ,MAAAA,eAAe,2BAAEH,MAAM,CAACG,eAAT,yEAA4BP,sBAHtC;AAILQ,MAAAA,WAAW,yBAAEJ,MAAM,CAACI,WAAT,qEAAwB,IAJ9B;AAKLC,MAAAA,qBAAqB,EAAEL,MAAM,CAACK,qBALzB;AAMLC,MAAAA,IAAI,EAAE;AACJL,QAAAA,KAAK,wCAAED,MAAM,CAACM,IAAT,iDAAE,aAAaL,KAAf,mEAAwB,IADzB;AAEJE,QAAAA,eAAe,mBAAEH,MAAM,CAACM,IAAT,kDAAE,cAAaH,eAF1B;AAGJC,QAAAA,WAAW,4CAAEJ,MAAM,CAACM,IAAT,kDAAE,cAAaF,WAAf,yEAA8B,IAHrC;AAIJC,QAAAA,qBAAqB,mBAAEL,MAAM,CAACM,IAAT,kDAAE,cAAaD;AAJhC;AAND,KAAP;AAaD;;AAED,MAAIP,MAAM,CAACE,MAAX,EAAmB;AAAA;;AACjB,UAAMA,MAAM,GAAGF,MAAM,CAACE,MAAtB;AACA,UAAMC,KAAK,qBAAGD,MAAM,CAACC,KAAV,2DAAmB,IAA9B;AACA,WAAO;AACLA,MAAAA,KADK;AAELC,MAAAA,UAAU,yBAAEF,MAAM,CAACE,UAAT,qEAAuBP,iBAF5B;AAGLQ,MAAAA,eAAe,4BAAEH,MAAM,CAACG,eAAT,2EAA4BP,sBAHtC;AAILQ,MAAAA,WAAW,EAAE,IAJR;AAKLC,MAAAA,qBAAqB,EAAE,IALlB;AAMLC,MAAAA,IAAI,EAAE;AACJL,QAAAA,KAAK,EAAE,IADH;AAEJE,QAAAA,eAAe,EAAE,IAFb;AAGJC,QAAAA,WAAW,EAAE,IAHT;AAIJC,QAAAA,qBAAqB,EAAE;AAJnB;AAND,KAAP;AAaD;;AAED,SAAO;AACLF,IAAAA,eAAe,EAAE,SADZ;AAELD,IAAAA,UAAU,EAAE,SAFP;AAGLE,IAAAA,WAAW,EAAE,IAHR;AAILC,IAAAA,qBAAqB,EAAE;AAJlB,GAAP;AAMD;;AAEM,SAASE,+BAAT,CAAyCT,MAAzC,EAA6D;AAAA;;AAClE,sBAAIA,MAAM,CAACC,GAAX,gEAAI,aAAYC,MAAhB,gDAAI,oBAAoBQ,GAAxB,EAA6B;AAC3BC,uCAAkBC,aAAlB,CACE,gBADF,EAEE,6EAFF;AAID;AACF","sourcesContent":["import { WarningAggregator } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\ntype ExpoConfigIosSplash = NonNullable<NonNullable<ExpoConfig['ios']>['splash']>;\n\nconst defaultResizeMode = 'contain';\nconst defaultBackgroundColor = '#ffffff';\n\nexport interface IOSSplashConfig {\n  image?: string | null;\n  // tabletImage: string | null;\n  backgroundColor: string;\n  resizeMode: NonNullable<ExpoConfigIosSplash['resizeMode']>;\n  tabletImage: string | null;\n  // TODO: These are here just to test the functionality, the API should be more robust and account for tablet images.\n  tabletBackgroundColor: string | null;\n  dark?: {\n    image?: string | null;\n    backgroundColor?: string | null;\n    tabletImage?: string | null;\n    tabletBackgroundColor?: string | null;\n  };\n}\n\n// TODO: Maybe use an array on splash with theme value. Then remove the array in serialization for legacy and manifest.\nexport function getIosSplashConfig(config: ExpoConfig): IOSSplashConfig | null {\n  // Respect the splash screen object, don't mix and match across different splash screen objects\n  // in case the user wants the top level splash to apply to every platform except iOS.\n  if (config.ios?.splash) {\n    const splash = config.ios?.splash;\n    const image = splash.image ?? null;\n    return {\n      image,\n      resizeMode: splash.resizeMode ?? defaultResizeMode,\n      backgroundColor: splash.backgroundColor ?? defaultBackgroundColor,\n      tabletImage: splash.tabletImage ?? null,\n      tabletBackgroundColor: splash.tabletBackgroundColor,\n      dark: {\n        image: splash.dark?.image ?? null,\n        backgroundColor: splash.dark?.backgroundColor,\n        tabletImage: splash.dark?.tabletImage ?? null,\n        tabletBackgroundColor: splash.dark?.tabletBackgroundColor,\n      },\n    };\n  }\n\n  if (config.splash) {\n    const splash = config.splash;\n    const image = splash.image ?? null;\n    return {\n      image,\n      resizeMode: splash.resizeMode ?? defaultResizeMode,\n      backgroundColor: splash.backgroundColor ?? defaultBackgroundColor,\n      tabletImage: null,\n      tabletBackgroundColor: null,\n      dark: {\n        image: null,\n        backgroundColor: null,\n        tabletImage: null,\n        tabletBackgroundColor: null,\n      },\n    };\n  }\n\n  return {\n    backgroundColor: '#ffffff',\n    resizeMode: 'contain',\n    tabletImage: null,\n    tabletBackgroundColor: null,\n  };\n}\n\nexport function warnUnsupportedSplashProperties(config: ExpoConfig) {\n  if (config.ios?.splash?.xib) {\n    WarningAggregator.addWarningIOS(\n      'ios.splash.xib',\n      'property is not supported in prebuild. Please use ios.splash.image instead.'\n    );\n  }\n}\n"],"file":"getIosSplashConfig.js"}
{"version":3,"file":"react-native-maps.js","names":["LOCATION_USAGE","withDefaultLocationPermissions","config","isLinked","_internal","autolinkedModules","includes","projectRoot","resolveFrom","silent","withInfoPlist","modResults","NSLocationWhenInUseUsageDescription","AndroidConfig","Permissions","withPermissions","createLegacyPlugin","packageName","fallback","GoogleMapsApiKey","withGoogleMapsApiKey","IOSConfig","Maps","withMaps"],"sources":["../../../src/plugins/unversioned/react-native-maps.ts"],"sourcesContent":["import { AndroidConfig, ConfigPlugin, IOSConfig, withInfoPlist } from '@expo/config-plugins';\nimport resolveFrom from 'resolve-from';\n\nimport { createLegacyPlugin } from './createLegacyPlugin';\n\nconst LOCATION_USAGE = 'Allow $(PRODUCT_NAME) to access your location';\n\n// Copied from expo-location package, this gets used when the\n// user has react-native-maps installed but not expo-location.\nconst withDefaultLocationPermissions: ConfigPlugin = (config) => {\n  const isLinked =\n    !config._internal?.autolinkedModules ||\n    config._internal.autolinkedModules.includes('react-native-maps');\n  // Only add location permissions if react-native-maps is installed.\n  if (\n    config._internal?.projectRoot &&\n    resolveFrom.silent(config._internal.projectRoot, 'react-native-maps') &&\n    isLinked\n  ) {\n    config = withInfoPlist(config, (config) => {\n      config.modResults.NSLocationWhenInUseUsageDescription =\n        config.modResults.NSLocationWhenInUseUsageDescription || LOCATION_USAGE;\n      return config;\n    });\n\n    return AndroidConfig.Permissions.withPermissions(config, [\n      'android.permission.ACCESS_COARSE_LOCATION',\n      'android.permission.ACCESS_FINE_LOCATION',\n    ]);\n  }\n  return config;\n};\n\nexport default createLegacyPlugin({\n  packageName: 'react-native-maps',\n  fallback: [\n    AndroidConfig.GoogleMapsApiKey.withGoogleMapsApiKey,\n    IOSConfig.Maps.withMaps,\n    withDefaultLocationPermissions,\n  ],\n});\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEA,MAAMA,cAAc,GAAG,+CAAvB,C,CAEA;AACA;;AACA,MAAMC,8BAA4C,GAAIC,MAAD,IAAY;EAAA;;EAC/D,MAAMC,QAAQ,GACZ,uBAACD,MAAM,CAACE,SAAR,8CAAC,kBAAkBC,iBAAnB,KACAH,MAAM,CAACE,SAAP,CAAiBC,iBAAjB,CAAmCC,QAAnC,CAA4C,mBAA5C,CAFF,CAD+D,CAI/D;;;EACA,IACE,sBAAAJ,MAAM,CAACE,SAAP,kEAAkBG,WAAlB,IACAC,sBAAA,CAAYC,MAAZ,CAAmBP,MAAM,CAACE,SAAP,CAAiBG,WAApC,EAAiD,mBAAjD,CADA,IAEAJ,QAHF,EAIE;IACAD,MAAM,GAAG,IAAAQ,8BAAA,EAAcR,MAAd,EAAuBA,MAAD,IAAY;MACzCA,MAAM,CAACS,UAAP,CAAkBC,mCAAlB,GACEV,MAAM,CAACS,UAAP,CAAkBC,mCAAlB,IAAyDZ,cAD3D;MAEA,OAAOE,MAAP;IACD,CAJQ,CAAT;IAMA,OAAOW,8BAAA,CAAcC,WAAd,CAA0BC,eAA1B,CAA0Cb,MAA1C,EAAkD,CACvD,2CADuD,EAEvD,yCAFuD,CAAlD,CAAP;EAID;;EACD,OAAOA,MAAP;AACD,CAtBD;;eAwBe,IAAAc,wCAAA,EAAmB;EAChCC,WAAW,EAAE,mBADmB;EAEhCC,QAAQ,EAAE,CACRL,8BAAA,CAAcM,gBAAd,CAA+BC,oBADvB,EAERC,0BAAA,CAAUC,IAAV,CAAeC,QAFP,EAGRtB,8BAHQ;AAFsB,CAAnB,C"}
{"version":3,"file":"withAndroidRootViewBackgroundColor.js","names":["assignColorValue","AndroidConfig","Colors","assignStylesValue","getAppThemeLightNoActionBarGroup","Styles","ANDROID_WINDOW_BACKGROUND","WINDOW_BACKGROUND_COLOR","withAndroidRootViewBackgroundColor","config","withRootViewBackgroundColorColors","withRootViewBackgroundColorStyles","withAndroidColors","modResults","value","getRootViewBackgroundColor","name","withAndroidStyles","add","parent","android","backgroundColor"],"sources":["../../../../src/plugins/unversioned/expo-system-ui/withAndroidRootViewBackgroundColor.ts"],"sourcesContent":["import {\n  AndroidConfig,\n  ConfigPlugin,\n  withAndroidColors,\n  withAndroidStyles,\n} from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nconst { assignColorValue } = AndroidConfig.Colors;\nconst { assignStylesValue, getAppThemeLightNoActionBarGroup } = AndroidConfig.Styles;\n\nconst ANDROID_WINDOW_BACKGROUND = 'android:windowBackground';\nconst WINDOW_BACKGROUND_COLOR = 'activityBackground';\n\nexport const withAndroidRootViewBackgroundColor: ConfigPlugin = (config) => {\n  config = withRootViewBackgroundColorColors(config);\n  config = withRootViewBackgroundColorStyles(config);\n  return config;\n};\n\nexport const withRootViewBackgroundColorColors: ConfigPlugin = (config) => {\n  return withAndroidColors(config, async (config) => {\n    config.modResults = assignColorValue(config.modResults, {\n      value: getRootViewBackgroundColor(config),\n      name: WINDOW_BACKGROUND_COLOR,\n    });\n    return config;\n  });\n};\n\nexport const withRootViewBackgroundColorStyles: ConfigPlugin = (config) => {\n  return withAndroidStyles(config, async (config) => {\n    config.modResults = assignStylesValue(config.modResults, {\n      add: !!getRootViewBackgroundColor(config),\n      parent: getAppThemeLightNoActionBarGroup(),\n      name: ANDROID_WINDOW_BACKGROUND,\n      value: `@color/${WINDOW_BACKGROUND_COLOR}`,\n    });\n    return config;\n  });\n};\n\nexport function getRootViewBackgroundColor(\n  config: Pick<ExpoConfig, 'android' | 'backgroundColor'>\n) {\n  return config.android?.backgroundColor || config.backgroundColor || null;\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAQA,MAAM;EAAEA;AAAF,IAAuBC,8BAAA,CAAcC,MAA3C;;AACA,MAAM;EAAEC,iBAAF;EAAqBC;AAArB,IAA0DH,8BAAA,CAAcI,MAA9E;;AAEA,MAAMC,yBAAyB,GAAG,0BAAlC;AACA,MAAMC,uBAAuB,GAAG,oBAAhC;;AAEO,MAAMC,kCAAgD,GAAIC,MAAD,IAAY;EAC1EA,MAAM,GAAGC,iCAAiC,CAACD,MAAD,CAA1C;EACAA,MAAM,GAAGE,iCAAiC,CAACF,MAAD,CAA1C;EACA,OAAOA,MAAP;AACD,CAJM;;;;AAMA,MAAMC,iCAA+C,GAAID,MAAD,IAAY;EACzE,OAAO,IAAAG,kCAAA,EAAkBH,MAAlB,EAA0B,MAAOA,MAAP,IAAkB;IACjDA,MAAM,CAACI,UAAP,GAAoBb,gBAAgB,CAACS,MAAM,CAACI,UAAR,EAAoB;MACtDC,KAAK,EAAEC,0BAA0B,CAACN,MAAD,CADqB;MAEtDO,IAAI,EAAET;IAFgD,CAApB,CAApC;IAIA,OAAOE,MAAP;EACD,CANM,CAAP;AAOD,CARM;;;;AAUA,MAAME,iCAA+C,GAAIF,MAAD,IAAY;EACzE,OAAO,IAAAQ,kCAAA,EAAkBR,MAAlB,EAA0B,MAAOA,MAAP,IAAkB;IACjDA,MAAM,CAACI,UAAP,GAAoBV,iBAAiB,CAACM,MAAM,CAACI,UAAR,EAAoB;MACvDK,GAAG,EAAE,CAAC,CAACH,0BAA0B,CAACN,MAAD,CADsB;MAEvDU,MAAM,EAAEf,gCAAgC,EAFe;MAGvDY,IAAI,EAAEV,yBAHiD;MAIvDQ,KAAK,EAAG,UAASP,uBAAwB;IAJc,CAApB,CAArC;IAMA,OAAOE,MAAP;EACD,CARM,CAAP;AASD,CAVM;;;;AAYA,SAASM,0BAAT,CACLN,MADK,EAEL;EAAA;;EACA,OAAO,oBAAAA,MAAM,CAACW,OAAP,oEAAgBC,eAAhB,KAAmCZ,MAAM,CAACY,eAA1C,IAA6D,IAApE;AACD"}
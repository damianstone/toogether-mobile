{"version":3,"file":"withIosUserInterfaceStyle.js","names":["withIosUserInterfaceStyle","createInfoPlistPluginWithPropertyGuard","setUserInterfaceStyle","infoPlistProperty","expoConfigProperty","expoPropertyGetter","getUserInterfaceStyle","config","ios","userInterfaceStyle","UIUserInterfaceStyle","infoPlist","style","mapUserInterfaceStyleForInfoPlist"],"sources":["../../../../src/plugins/unversioned/expo-system-ui/withIosUserInterfaceStyle.ts"],"sourcesContent":["import { InfoPlist } from '@expo/config-plugins';\nimport { createInfoPlistPluginWithPropertyGuard } from '@expo/config-plugins/build/plugins/ios-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nexport const withIosUserInterfaceStyle = createInfoPlistPluginWithPropertyGuard(\n  setUserInterfaceStyle,\n  {\n    infoPlistProperty: 'UIUserInterfaceStyle',\n    expoConfigProperty: 'userInterfaceStyle | ios.userInterfaceStyle',\n    expoPropertyGetter: getUserInterfaceStyle,\n  },\n  'withIosUserInterfaceStyle'\n);\n\nexport function getUserInterfaceStyle(\n  config: Pick<ExpoConfig, 'ios' | 'userInterfaceStyle'>\n): string {\n  return config.ios?.userInterfaceStyle ?? config.userInterfaceStyle ?? 'light';\n}\n\nexport function setUserInterfaceStyle(\n  config: Pick<ExpoConfig, 'ios' | 'userInterfaceStyle'>,\n  { UIUserInterfaceStyle, ...infoPlist }: InfoPlist\n): InfoPlist {\n  const userInterfaceStyle = getUserInterfaceStyle(config);\n  const style = mapUserInterfaceStyleForInfoPlist(userInterfaceStyle);\n\n  if (!style) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    UIUserInterfaceStyle: style,\n  };\n}\n\nfunction mapUserInterfaceStyleForInfoPlist(\n  userInterfaceStyle: string\n): NonNullable<InfoPlist['UIUserInterfaceStyle']> | null {\n  switch (userInterfaceStyle) {\n    case 'light':\n      return 'Light';\n    case 'dark':\n      return 'Dark';\n    case 'automatic':\n      return 'Automatic';\n  }\n\n  return null;\n}\n"],"mappings":";;;;;;;;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAGO,MAAMA,yBAAyB,GAAG,IAAAC,oDAAA,EACvCC,qBADuC,EAEvC;EACEC,iBAAiB,EAAE,sBADrB;EAEEC,kBAAkB,EAAE,6CAFtB;EAGEC,kBAAkB,EAAEC;AAHtB,CAFuC,EAOvC,2BAPuC,CAAlC;;;AAUA,SAASA,qBAAT,CACLC,MADK,EAEG;EAAA;;EACR,uDAAOA,MAAM,CAACC,GAAd,gDAAO,YAAYC,kBAAnB,yEAAyCF,MAAM,CAACE,kBAAhD,uCAAsE,OAAtE;AACD;;AAEM,SAASP,qBAAT,CACLK,MADK,EAEL;EAAEG,oBAAF;EAAwB,GAAGC;AAA3B,CAFK,EAGM;EACX,MAAMF,kBAAkB,GAAGH,qBAAqB,CAACC,MAAD,CAAhD;EACA,MAAMK,KAAK,GAAGC,iCAAiC,CAACJ,kBAAD,CAA/C;;EAEA,IAAI,CAACG,KAAL,EAAY;IACV,OAAOD,SAAP;EACD;;EAED,OAAO,EACL,GAAGA,SADE;IAELD,oBAAoB,EAAEE;EAFjB,CAAP;AAID;;AAED,SAASC,iCAAT,CACEJ,kBADF,EAEyD;EACvD,QAAQA,kBAAR;IACE,KAAK,OAAL;MACE,OAAO,OAAP;;IACF,KAAK,MAAL;MACE,OAAO,MAAP;;IACF,KAAK,WAAL;MACE,OAAO,WAAP;EANJ;;EASA,OAAO,IAAP;AACD"}
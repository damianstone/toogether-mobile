{"version":3,"file":"Version.js","names":["withVersion","createInfoPlistPluginWithPropertyGuard","setVersion","infoPlistProperty","expoConfigProperty","withBuildNumber","setBuildNumber","getVersion","config","version","infoPlist","CFBundleShortVersionString","getBuildNumber","ios","buildNumber","CFBundleVersion"],"sources":["../../src/ios/Version.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { createInfoPlistPluginWithPropertyGuard } from '../plugins/ios-plugins';\nimport { InfoPlist } from './IosConfig.types';\n\nexport const withVersion = createInfoPlistPluginWithPropertyGuard(\n  setVersion,\n  {\n    infoPlistProperty: 'CFBundleShortVersionString',\n    expoConfigProperty: 'version',\n  },\n  'withVersion'\n);\n\nexport const withBuildNumber = createInfoPlistPluginWithPropertyGuard(\n  setBuildNumber,\n  {\n    infoPlistProperty: 'CFBundleVersion',\n    expoConfigProperty: 'ios.buildNumber',\n  },\n  'withBuildNumber'\n);\n\nexport function getVersion(config: Pick<ExpoConfig, 'version'>) {\n  return config.version || '1.0.0';\n}\n\nexport function setVersion(config: Pick<ExpoConfig, 'version'>, infoPlist: InfoPlist): InfoPlist {\n  return {\n    ...infoPlist,\n    CFBundleShortVersionString: getVersion(config),\n  };\n}\n\nexport function getBuildNumber(config: Pick<ExpoConfig, 'ios'>) {\n  return config.ios?.buildNumber ? config.ios.buildNumber : '1';\n}\n\nexport function setBuildNumber(config: Pick<ExpoConfig, 'ios'>, infoPlist: InfoPlist): InfoPlist {\n  return {\n    ...infoPlist,\n    CFBundleVersion: getBuildNumber(config),\n  };\n}\n"],"mappings":";;;;;;;;;;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAGO,MAAMA,WAAW,GAAG,IAAAC,oDAAA,EACzBC,UADyB,EAEzB;EACEC,iBAAiB,EAAE,4BADrB;EAEEC,kBAAkB,EAAE;AAFtB,CAFyB,EAMzB,aANyB,CAApB;;AASA,MAAMC,eAAe,GAAG,IAAAJ,oDAAA,EAC7BK,cAD6B,EAE7B;EACEH,iBAAiB,EAAE,iBADrB;EAEEC,kBAAkB,EAAE;AAFtB,CAF6B,EAM7B,iBAN6B,CAAxB;;;AASA,SAASG,UAAT,CAAoBC,MAApB,EAAyD;EAC9D,OAAOA,MAAM,CAACC,OAAP,IAAkB,OAAzB;AACD;;AAEM,SAASP,UAAT,CAAoBM,MAApB,EAAyDE,SAAzD,EAA0F;EAC/F,OAAO,EACL,GAAGA,SADE;IAELC,0BAA0B,EAAEJ,UAAU,CAACC,MAAD;EAFjC,CAAP;AAID;;AAEM,SAASI,cAAT,CAAwBJ,MAAxB,EAAyD;EAAA;;EAC9D,OAAO,eAAAA,MAAM,CAACK,GAAP,oDAAYC,WAAZ,GAA0BN,MAAM,CAACK,GAAP,CAAWC,WAArC,GAAmD,GAA1D;AACD;;AAEM,SAASR,cAAT,CAAwBE,MAAxB,EAAyDE,SAAzD,EAA0F;EAC/F,OAAO,EACL,GAAGA,SADE;IAELK,eAAe,EAAEH,cAAc,CAACJ,MAAD;EAF1B,CAAP;AAID"}
{"version":3,"file":"WindowSoftInputMode.js","names":["ANDROID_WINDOW_SOFT_INPUT_MODE","MAPPING","pan","resize","withWindowSoftInputMode","config","withAndroidManifest","modResults","setWindowSoftInputModeMode","androidManifest","app","getMainActivityOrThrow","$","getWindowSoftInputModeMode","value","android","softwareKeyboardLayoutMode"],"sources":["../../src/android/WindowSoftInputMode.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { ConfigPlugin } from '../Plugin.types';\nimport { withAndroidManifest } from '../plugins/android-plugins';\nimport { AndroidManifest, getMainActivityOrThrow } from './Manifest';\n\nconst ANDROID_WINDOW_SOFT_INPUT_MODE = 'android:windowSoftInputMode';\n\nconst MAPPING: Record<string, string> = {\n  pan: 'adjustPan',\n  resize: 'adjustResize',\n};\n\nexport const withWindowSoftInputMode: ConfigPlugin = (config) => {\n  return withAndroidManifest(config, async (config) => {\n    config.modResults = setWindowSoftInputModeMode(config, config.modResults);\n    return config;\n  });\n};\n\nexport function setWindowSoftInputModeMode(\n  config: Pick<ExpoConfig, 'android' | 'userInterfaceStyle'>,\n  androidManifest: AndroidManifest\n) {\n  const app = getMainActivityOrThrow(androidManifest);\n  app.$[ANDROID_WINDOW_SOFT_INPUT_MODE] = getWindowSoftInputModeMode(config);\n  return androidManifest;\n}\n\nexport function getWindowSoftInputModeMode(config: Pick<ExpoConfig, 'android'>) {\n  const value = config.android?.softwareKeyboardLayoutMode;\n\n  if (!value) {\n    // Default to `adjustResize` or `resize`.\n    return 'adjustResize';\n  }\n  return MAPPING[value] ?? value;\n}\n"],"mappings":";;;;;;;;;AAGA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA,MAAMA,8BAA8B,GAAG,6BAAvC;AAEA,MAAMC,OAA+B,GAAG;EACtCC,GAAG,EAAE,WADiC;EAEtCC,MAAM,EAAE;AAF8B,CAAxC;;AAKO,MAAMC,uBAAqC,GAAIC,MAAD,IAAY;EAC/D,OAAO,IAAAC,qCAAA,EAAoBD,MAApB,EAA4B,MAAOA,MAAP,IAAkB;IACnDA,MAAM,CAACE,UAAP,GAAoBC,0BAA0B,CAACH,MAAD,EAASA,MAAM,CAACE,UAAhB,CAA9C;IACA,OAAOF,MAAP;EACD,CAHM,CAAP;AAID,CALM;;;;AAOA,SAASG,0BAAT,CACLH,MADK,EAELI,eAFK,EAGL;EACA,MAAMC,GAAG,GAAG,IAAAC,kCAAA,EAAuBF,eAAvB,CAAZ;EACAC,GAAG,CAACE,CAAJ,CAAMZ,8BAAN,IAAwCa,0BAA0B,CAACR,MAAD,CAAlE;EACA,OAAOI,eAAP;AACD;;AAEM,SAASI,0BAAT,CAAoCR,MAApC,EAAyE;EAAA;;EAC9E,MAAMS,KAAK,sBAAGT,MAAM,CAACU,OAAV,oDAAG,gBAAgBC,0BAA9B;;EAEA,IAAI,CAACF,KAAL,EAAY;IACV;IACA,OAAO,cAAP;EACD;;EACD,yBAAOb,OAAO,CAACa,KAAD,CAAd,2DAAyBA,KAAzB;AACD"}
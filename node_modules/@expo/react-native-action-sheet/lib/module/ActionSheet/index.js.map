{"version":3,"sources":["index.tsx"],"names":["React","Animated","BackHandler","Easing","Modal","Platform","StyleSheet","TouchableWithoutFeedback","View","ActionGroup","OPACITY_ANIMATION_IN_TIME","OPACITY_ANIMATION_OUT_TIME","EASING_OUT","bezier","EASING_IN","out","ESCAPE_KEY","ActionSheet","_actionSheetHeight","state","isVisible","isAnimating","options","onSelect","overlayOpacity","Value","sheetOpacity","_deferAfterAnimation","undefined","_handleWebKeyDown","event","key","preventDefault","_selectCancelButton","_setActionSheetHeight","nativeEvent","layout","height","showActionSheetWithOptions","bind","setState","setValue","parallel","timing","toValue","easing","duration","useNativeDriver","props","start","result","finished","addEventListener","cancelButtonIndex","_onSelect","_animateOut","index","removeEventListener","OS","document","useModal","autoFocus","overlay","styles","opacity","appContent","flexContainer","Children","only","children","pointerEvents","_renderSheet","optionsArray","icons","tintIcons","destructiveButtonIndex","disabledButtonIndices","destructiveColor","textStyle","tintColor","title","titleTextStyle","message","messageTextStyle","showSeparators","containerStyle","separatorStyle","cancelButtonTintColor","sheetContainer","transform","translateY","interpolate","inputRange","outputRange","sheet","length","Component","defaultProps","create","flex","position","top","right","bottom","left","backgroundColor","alignItems","justifyContent","flexDirection"],"mappings":"irCAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OACEC,QADF,CAEEC,WAFF,CAGEC,MAHF,CAIEC,KAJF,CAKEC,QALF,CAMEC,UANF,CAOEC,wBAPF,CAQEC,IARF,KAUO,cAVP,CAaA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAgBA,GAAMC,CAAAA,yBAAyB,CAAG,GAAlC,CACA,GAAMC,CAAAA,0BAA0B,CAAG,GAAnC,CACA,GAAMC,CAAAA,UAAU,CAAGT,MAAM,CAACU,MAAP,CAAc,IAAd,CAAoB,IAApB,CAA0B,IAA1B,CAAgC,IAAhC,CAAnB,CACA,GAAMC,CAAAA,SAAS,CAAGX,MAAM,CAACY,GAAP,CAAWH,UAAX,CAAlB,CACA,GAAMI,CAAAA,UAAU,CAAG,QAAnB,C,GAGqBC,CAAAA,W,8UAKnBC,kB,CAAqB,G,OAErBC,K,CAAe,CACbC,SAAS,CAAE,KADE,CAEbC,WAAW,CAAE,KAFA,CAGbC,OAAO,CAAE,IAHI,CAIbC,QAAQ,CAAE,IAJG,CAKbC,cAAc,CAAE,GAAIvB,CAAAA,QAAQ,CAACwB,KAAb,CAAmB,CAAnB,CALH,CAMbC,YAAY,CAAE,GAAIzB,CAAAA,QAAQ,CAACwB,KAAb,CAAmB,CAAnB,CAND,C,OASfE,oB,CAAoCC,S,OAcpCC,iB,CAAoB,SAACC,KAAD,CAAgC,CAClD,GAAIA,KAAK,CAACC,GAAN,GAAcf,UAAd,EAA4B,MAAKG,KAAL,CAAWC,SAA3C,CAAsD,CACpDU,KAAK,CAACE,cAAN,GACA,MAAKC,mBAAL,GACD,CACF,C,OAEDC,qB,CAAwB,kBAAGC,CAAAA,WAAH,MAAGA,WAAH,OACrB,OAAKjB,kBAAL,CAA0BiB,WAAW,CAACC,MAAZ,CAAmBC,MADxB,E,OAwHxBC,0B,CAA6B,SAAChB,OAAD,CAA8BC,QAA9B,CAAgE,iBACvC,MAAKJ,KADkC,CACnFC,SADmF,aACnFA,SADmF,CACxEI,cADwE,aACxEA,cADwE,CACxDE,YADwD,aACxDA,YADwD,CAG3F,GAAIN,SAAJ,CAAe,CACb,MAAKO,oBAAL,CAA4B,MAAKW,0BAAL,CAAgCC,IAAhC,+BAA2CjB,OAA3C,CAAoDC,QAApD,CAA5B,CACA,OACD,CAED,MAAKiB,QAAL,CAAc,CACZlB,OAAO,CAAPA,OADY,CAEZC,QAAQ,CAARA,QAFY,CAGZH,SAAS,CAAE,IAHC,CAIZC,WAAW,CAAE,IAJD,CAAd,EAMAG,cAAc,CAACiB,QAAf,CAAwB,CAAxB,EACAf,YAAY,CAACe,QAAb,CAAsB,CAAtB,EACAxC,QAAQ,CAACyC,QAAT,CAAkB,CAChBzC,QAAQ,CAAC0C,MAAT,CAAgBnB,cAAhB,CAAgC,CAC9BoB,OAAO,CAAE,IADqB,CAE9BC,MAAM,CAAEjC,UAFsB,CAG9BkC,QAAQ,CAAEpC,yBAHoB,CAI9BqC,eAAe,CAAE,MAAKC,KAAL,CAAWD,eAJE,CAAhC,CADgB,CAOhB9C,QAAQ,CAAC0C,MAAT,CAAgBjB,YAAhB,CAA8B,CAC5BkB,OAAO,CAAE,CADmB,CAE5BC,MAAM,CAAEjC,UAFoB,CAG5BkC,QAAQ,CAAEpC,yBAHkB,CAI5BqC,eAAe,CAAE,MAAKC,KAAL,CAAWD,eAJA,CAA9B,CAPgB,CAAlB,EAaGE,KAbH,CAaS,SAACC,MAAD,CAAY,CACnB,GAAIA,MAAM,CAACC,QAAX,CAAqB,CACnB,MAAKX,QAAL,CAAc,CACZnB,WAAW,CAAE,KADD,CAAd,EAGA,MAAKM,oBAAL,CAA4BC,SAA5B,CACD,CACF,CApBD,EAsBA1B,WAAW,CAACkD,gBAAZ,CAA6B,8BAA7B,CAA6D,MAAKnB,mBAAlE,EACD,C,OAEDA,mB,CAAsB,UAAM,IAClBX,CAAAA,OADkB,CACN,MAAKH,KADC,CAClBG,OADkB,CAG1B,GAAI,CAACA,OAAL,CAAc,CACZ,MAAO,MAAP,CACD,CAED,GAAI,MAAOA,CAAAA,OAAO,CAAC+B,iBAAf,GAAqC,WAAzC,CAAsD,CACpD,MAAO,MAAP,CACD,CAFD,IAEO,IAAI,MAAO/B,CAAAA,OAAO,CAAC+B,iBAAf,GAAqC,QAAzC,CAAmD,CACxD,MAAO,OAAKC,SAAL,CAAehC,OAAO,CAAC+B,iBAAvB,CAAP,CACD,CAFM,IAEA,CACL,MAAO,OAAKE,WAAL,EAAP,CACD,CACF,C,OAEDD,S,CAAY,SAACE,KAAD,CAA4B,kBACJ,MAAKrC,KADD,CAC9BE,WAD8B,cAC9BA,WAD8B,CACjBE,QADiB,cACjBA,QADiB,CAGtC,GAAIF,WAAJ,CAAiB,CACf,MAAO,MAAP,CACD,CAED,GAAIE,QAAJ,CAAc,CACZ,MAAKI,oBAAL,CAA4BJ,QAAQ,CAACgB,IAAT,+BAAoBiB,KAApB,CAA5B,CACD,CAED,MAAO,OAAKD,WAAL,EAAP,CACD,C,OAEDA,W,CAAc,UAAe,kBAC2B,MAAKpC,KADhC,CACnBE,WADmB,cACnBA,WADmB,CACNG,cADM,cACNA,cADM,CACUE,YADV,cACUA,YADV,CAG3B,GAAIL,WAAJ,CAAiB,CACf,MAAO,MAAP,CACD,CAGDnB,WAAW,CAACuD,mBAAZ,CAAgC,8BAAhC,CAAgE,MAAKxB,mBAArE,EACA,MAAKO,QAAL,CAAc,CACZnB,WAAW,CAAE,IADD,CAAd,EAGApB,QAAQ,CAACyC,QAAT,CAAkB,CAChBzC,QAAQ,CAAC0C,MAAT,CAAgBnB,cAAhB,CAAgC,CAC9BoB,OAAO,CAAE,CADqB,CAE9BC,MAAM,CAAE/B,SAFsB,CAG9BgC,QAAQ,CAAEnC,0BAHoB,CAI9BoC,eAAe,CAAE,MAAKC,KAAL,CAAWD,eAJE,CAAhC,CADgB,CAOhB9C,QAAQ,CAAC0C,MAAT,CAAgBjB,YAAhB,CAA8B,CAC5BkB,OAAO,CAAE,CADmB,CAE5BC,MAAM,CAAE/B,SAFoB,CAG5BgC,QAAQ,CAAEnC,0BAHkB,CAI5BoC,eAAe,CAAE,MAAKC,KAAL,CAAWD,eAJA,CAA9B,CAPgB,CAAlB,EAaGE,KAbH,CAaS,SAACC,MAAD,CAAY,CACnB,GAAIA,MAAM,CAACC,QAAX,CAAqB,CACnB,MAAKX,QAAL,CAAc,CACZpB,SAAS,CAAE,KADC,CAEZC,WAAW,CAAE,KAFD,CAAd,EAKA,GAAI,MAAKM,oBAAT,CAA+B,CAC7B,MAAKA,oBAAL,GACD,CACF,CACF,CAxBD,EAyBA,MAAO,KAAP,CACD,C,oGAxPmB,CAClB,GAAItB,QAAQ,CAACqD,EAAT,GAAgB,KAApB,CAA2B,CACzBC,QAAQ,CAACP,gBAAT,CAA0B,SAA1B,CAAqC,KAAKvB,iBAA1C,EACD,CACF,C,mEAEsB,CACrB,GAAIxB,QAAQ,CAACqD,EAAT,GAAgB,KAApB,CAA2B,CACzBC,QAAQ,CAACF,mBAAT,CAA6B,SAA7B,CAAwC,KAAK5B,iBAA7C,EACD,CACF,C,uCAYQ,kBACwC,KAAKV,KAD7C,CACCC,SADD,cACCA,SADD,CACYI,cADZ,cACYA,cADZ,CAC4BF,OAD5B,cAC4BA,OAD5B,CAEP,GAAMsC,CAAAA,QAAQ,CAAGtC,OAAO,CAAGA,OAAO,CAACuC,SAAR,EAAqBvC,OAAO,CAACsC,QAAR,GAAqB,IAA7C,CAAoD,KAA5E,CACA,GAAME,CAAAA,OAAO,CAAG1C,SAAS,CACvB,oBAAC,QAAD,CAAU,IAAV,EACE,KAAK,CAAE,CACL2C,MAAM,CAACD,OADF,CAEL,CACEE,OAAO,CAAExC,cADX,CAFK,CADT,gEADuB,CASrB,IATJ,CAYA,GAAMyC,CAAAA,UAAU,CACd,oBAAC,IAAD,EACE,KAAK,CAAEF,MAAM,CAACG,aADhB,CAEE,yBAAyB,CAAE9C,SAAS,CAAG,qBAAH,CAA2B,MAFjE,gEAGGpB,KAAK,CAACmE,QAAN,CAAeC,IAAf,CAAoB,KAAKpB,KAAL,CAAWqB,QAA/B,CAHH,CADF,CAQA,MACE,qBAAC,IAAD,EAAM,aAAa,CAAE,KAAKrB,KAAL,CAAWsB,aAAhC,CAA+C,KAAK,CAAEP,MAAM,CAACG,aAA7D,iEACGD,UADH,CAEG7C,SAAS,EAAI,CAACwC,QAAd,EACC,wCACGE,OADH,CAEG,KAAKS,YAAL,EAFH,CAHJ,CAQGnD,SAAS,EAAIwC,QAAb,EACC,oBAAC,KAAD,EAAO,aAAa,CAAC,MAArB,CAA4B,WAAW,KAAvC,CAAwC,cAAc,CAAE,KAAK3B,mBAA7D,kEACG6B,OADH,CAEG,KAAKS,YAAL,EAFH,CATJ,CADF,CAiBD,C,mDAEc,kBACkC,KAAKpD,KADvC,CACLG,OADK,cACLA,OADK,CACID,WADJ,cACIA,WADJ,CACiBK,YADjB,cACiBA,YADjB,CAGb,GAAI,CAACJ,OAAL,CAAc,CACZ,MAAO,KAAP,CACD,CALY,GAQFkD,CAAAA,YARE,CA0BTlD,OA1BS,CAQXA,OARW,CASXmD,KATW,CA0BTnD,OA1BS,CASXmD,KATW,CAUXC,SAVW,CA0BTpD,OA1BS,CAUXoD,SAVW,CAWXC,sBAXW,CA0BTrD,OA1BS,CAWXqD,sBAXW,CAYXC,qBAZW,CA0BTtD,OA1BS,CAYXsD,qBAZW,CAaXC,gBAbW,CA0BTvD,OA1BS,CAaXuD,gBAbW,CAcXC,SAdW,CA0BTxD,OA1BS,CAcXwD,SAdW,CAeXC,SAfW,CA0BTzD,OA1BS,CAeXyD,SAfW,CAgBXC,KAhBW,CA0BT1D,OA1BS,CAgBX0D,KAhBW,CAiBXC,cAjBW,CA0BT3D,OA1BS,CAiBX2D,cAjBW,CAkBXC,OAlBW,CA0BT5D,OA1BS,CAkBX4D,OAlBW,CAmBXC,gBAnBW,CA0BT7D,OA1BS,CAmBX6D,gBAnBW,CAoBXtB,SApBW,CA0BTvC,OA1BS,CAoBXuC,SApBW,CAqBXuB,cArBW,CA0BT9D,OA1BS,CAqBX8D,cArBW,CAsBXC,cAtBW,CA0BT/D,OA1BS,CAsBX+D,cAtBW,CAuBXC,cAvBW,CA0BThE,OA1BS,CAuBXgE,cAvBW,CAwBXjC,iBAxBW,CA0BT/B,OA1BS,CAwBX+B,iBAxBW,CAyBXkC,qBAzBW,CA0BTjE,OA1BS,CAyBXiE,qBAzBW,CA2Bb,MACE,qBAAC,wBAAD,EAA0B,yBAAyB,CAAC,KAApD,CAA0D,OAAO,CAAE,KAAKtD,mBAAxE,iEACE,oBAAC,QAAD,CAAU,IAAV,EACE,8BAA8B,CAAEZ,WADlC,CAEE,KAAK,CAAE,CACL0C,MAAM,CAACyB,cADF,CAEL,CACExB,OAAO,CAAEtC,YADX,CAEE+D,SAAS,CAAE,CACT,CACEC,UAAU,CAAEhE,YAAY,CAACiE,WAAb,CAAyB,CACnCC,UAAU,CAAE,CAAC,CAAD,CAAI,CAAJ,CADuB,CAEnCC,WAAW,CAAE,CAAC,KAAK3E,kBAAN,CAA0B,CAA1B,CAFsB,CAAzB,CADd,CADS,CAFb,CAFK,CAFT,iEAgBE,oBAAC,IAAD,EAAM,KAAK,CAAE6C,MAAM,CAAC+B,KAApB,CAA2B,QAAQ,CAAE,KAAK5D,qBAA1C,kEACE,oBAAC,WAAD,EACE,OAAO,CAAEsC,YADX,CAEE,KAAK,CAAEC,KAFT,CAGE,SAAS,CAAEC,SAAS,GAAK9C,SAAd,CAA0B,IAA1B,CAAiC8C,SAH9C,CAIE,iBAAiB,CAAErB,iBAJrB,CAKE,qBAAqB,CAAEkC,qBALzB,CAME,sBAAsB,CAAEZ,sBAN1B,CAOE,gBAAgB,CAAEE,gBAPpB,CAQE,qBAAqB,CAAED,qBARzB,CASE,QAAQ,CAAE,KAAKtB,SATjB,CAUE,UAAU,CAAE,CAVd,CAWE,MAAM,CAAEkB,YAAY,CAACuB,MAXvB,CAYE,SAAS,CAAEjB,SAAS,EAAI,EAZ1B,CAaE,SAAS,CAAEC,SAbb,CAcE,KAAK,CAAEC,KAAK,EAAIpD,SAdlB,CAeE,cAAc,CAAEqD,cAflB,CAgBE,OAAO,CAAEC,OAAO,EAAItD,SAhBtB,CAiBE,gBAAgB,CAAEuD,gBAjBpB,CAkBE,SAAS,CAAEtB,SAlBb,CAmBE,cAAc,CAAEuB,cAnBlB,CAoBE,cAAc,CAAEC,cApBlB,CAqBE,cAAc,CAAEC,cArBlB,kEADF,CAhBF,CADF,CADF,CA8CD,C,yBA3JsCtF,KAAK,CAACgG,S,EAA1B/E,W,CACZgF,Y,CAAe,CACpBlD,eAAe,CAAE,IADG,C,QADH9B,W,aA6QrB,GAAM8C,CAAAA,MAAM,CAAGzD,UAAU,CAAC4F,MAAX,CAAkB,CAC/BhC,aAAa,CAAE,CACbiC,IAAI,CAAE,CADO,CADgB,CAI/BrC,OAAO,CAAE,CACPsC,QAAQ,CAAE,UADH,CAEPC,GAAG,CAAE,CAFE,CAGPC,KAAK,CAAE,CAHA,CAIPC,MAAM,CAAE,CAJD,CAKPC,IAAI,CAAE,CALC,CAMPC,eAAe,CAAE,OANV,CAJsB,CAY/BjB,cAAc,CAAE,CACdY,QAAQ,CAAE,UADI,CAEdI,IAAI,CAAE,CAFQ,CAGdF,KAAK,CAAE,CAHO,CAIdC,MAAM,CAAE,CAJM,CAKdF,GAAG,CAAE,CALS,CAMdI,eAAe,CAAE,aANH,CAOdC,UAAU,CAAE,UAPE,CAQdC,cAAc,CAAE,QARF,CASdC,aAAa,CAAE,KATD,CAZe,CAuB/Bd,KAAK,CAAE,CACLK,IAAI,CAAE,CADD,CAELM,eAAe,CAAE,aAFZ,CAvBwB,CAAlB,CAAf","sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  BackHandler,\n  Easing,\n  Modal,\n  Platform,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  View,\n  ViewProps,\n} from 'react-native';\n\nimport { ActionSheetOptions } from '../types';\nimport ActionGroup from './ActionGroup';\n\ninterface State {\n  isVisible: boolean;\n  isAnimating: boolean;\n  options: ActionSheetOptions | null;\n  onSelect: ((i: number) => void) | null;\n  overlayOpacity: any;\n  sheetOpacity: any;\n}\n\ninterface Props {\n  readonly useNativeDriver: boolean | undefined;\n  readonly pointerEvents?: ViewProps['pointerEvents'];\n}\n\nconst OPACITY_ANIMATION_IN_TIME = 225;\nconst OPACITY_ANIMATION_OUT_TIME = 195;\nconst EASING_OUT = Easing.bezier(0.25, 0.46, 0.45, 0.94);\nconst EASING_IN = Easing.out(EASING_OUT);\nconst ESCAPE_KEY = 'Escape';\n\n// Has same API as https://facebook.github.io/react-native/docs/actionsheetios.html\nexport default class ActionSheet extends React.Component<Props, State> {\n  static defaultProps = {\n    useNativeDriver: true,\n  };\n\n  _actionSheetHeight = 360;\n\n  state: State = {\n    isVisible: false,\n    isAnimating: false,\n    options: null,\n    onSelect: null,\n    overlayOpacity: new Animated.Value(0),\n    sheetOpacity: new Animated.Value(0),\n  };\n\n  _deferAfterAnimation?: () => void = undefined;\n\n  componentDidMount() {\n    if (Platform.OS === 'web') {\n      document.addEventListener('keydown', this._handleWebKeyDown);\n    }\n  }\n\n  componentWillUnmount() {\n    if (Platform.OS === 'web') {\n      document.removeEventListener('keydown', this._handleWebKeyDown);\n    }\n  }\n\n  _handleWebKeyDown = (event: KeyboardEvent): void => {\n    if (event.key === ESCAPE_KEY && this.state.isVisible) {\n      event.preventDefault();\n      this._selectCancelButton();\n    }\n  };\n\n  _setActionSheetHeight = ({ nativeEvent }: any) =>\n    (this._actionSheetHeight = nativeEvent.layout.height);\n\n  render() {\n    const { isVisible, overlayOpacity, options } = this.state;\n    const useModal = options ? options.autoFocus || options.useModal === true : false;\n    const overlay = isVisible ? (\n      <Animated.View\n        style={[\n          styles.overlay,\n          {\n            opacity: overlayOpacity,\n          },\n        ]}\n      />\n    ) : null;\n\n    // While the sheet is visible, hide the rest of the app's content from screen readers.\n    const appContent = (\n      <View\n        style={styles.flexContainer}\n        importantForAccessibility={isVisible ? 'no-hide-descendants' : 'auto'}>\n        {React.Children.only(this.props.children)}\n      </View>\n    );\n\n    return (\n      <View pointerEvents={this.props.pointerEvents} style={styles.flexContainer}>\n        {appContent}\n        {isVisible && !useModal && (\n          <>\n            {overlay}\n            {this._renderSheet()}\n          </>\n        )}\n        {isVisible && useModal && (\n          <Modal animationType=\"none\" transparent onRequestClose={this._selectCancelButton}>\n            {overlay}\n            {this._renderSheet()}\n          </Modal>\n        )}\n      </View>\n    );\n  }\n\n  _renderSheet() {\n    const { options, isAnimating, sheetOpacity } = this.state;\n\n    if (!options) {\n      return null;\n    }\n\n    const {\n      options: optionsArray,\n      icons,\n      tintIcons,\n      destructiveButtonIndex,\n      disabledButtonIndices,\n      destructiveColor,\n      textStyle,\n      tintColor,\n      title,\n      titleTextStyle,\n      message,\n      messageTextStyle,\n      autoFocus,\n      showSeparators,\n      containerStyle,\n      separatorStyle,\n      cancelButtonIndex,\n      cancelButtonTintColor,\n    } = options;\n    return (\n      <TouchableWithoutFeedback importantForAccessibility=\"yes\" onPress={this._selectCancelButton}>\n        <Animated.View\n          needsOffscreenAlphaCompositing={isAnimating}\n          style={[\n            styles.sheetContainer,\n            {\n              opacity: sheetOpacity,\n              transform: [\n                {\n                  translateY: sheetOpacity.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [this._actionSheetHeight, 0],\n                  }),\n                },\n              ],\n            },\n          ]}>\n          <View style={styles.sheet} onLayout={this._setActionSheetHeight}>\n            <ActionGroup\n              options={optionsArray}\n              icons={icons}\n              tintIcons={tintIcons === undefined ? true : tintIcons}\n              cancelButtonIndex={cancelButtonIndex}\n              cancelButtonTintColor={cancelButtonTintColor}\n              destructiveButtonIndex={destructiveButtonIndex}\n              destructiveColor={destructiveColor}\n              disabledButtonIndices={disabledButtonIndices}\n              onSelect={this._onSelect}\n              startIndex={0}\n              length={optionsArray.length}\n              textStyle={textStyle || {}}\n              tintColor={tintColor}\n              title={title || undefined}\n              titleTextStyle={titleTextStyle}\n              message={message || undefined}\n              messageTextStyle={messageTextStyle}\n              autoFocus={autoFocus}\n              showSeparators={showSeparators}\n              containerStyle={containerStyle}\n              separatorStyle={separatorStyle}\n            />\n          </View>\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n\n  showActionSheetWithOptions = (options: ActionSheetOptions, onSelect: (i: number) => void) => {\n    const { isVisible, overlayOpacity, sheetOpacity } = this.state;\n\n    if (isVisible) {\n      this._deferAfterAnimation = this.showActionSheetWithOptions.bind(this, options, onSelect);\n      return;\n    }\n\n    this.setState({\n      options,\n      onSelect,\n      isVisible: true,\n      isAnimating: true,\n    });\n    overlayOpacity.setValue(0);\n    sheetOpacity.setValue(0);\n    Animated.parallel([\n      Animated.timing(overlayOpacity, {\n        toValue: 0.32,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n      Animated.timing(sheetOpacity, {\n        toValue: 1,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n    ]).start((result) => {\n      if (result.finished) {\n        this.setState({\n          isAnimating: false,\n        });\n        this._deferAfterAnimation = undefined;\n      }\n    });\n    // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n    BackHandler.addEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n  };\n\n  _selectCancelButton = () => {\n    const { options } = this.state;\n\n    if (!options) {\n      return false;\n    }\n\n    if (typeof options.cancelButtonIndex === 'undefined') {\n      return false;\n    } else if (typeof options.cancelButtonIndex === 'number') {\n      return this._onSelect(options.cancelButtonIndex);\n    } else {\n      return this._animateOut();\n    }\n  };\n\n  _onSelect = (index: number): boolean => {\n    const { isAnimating, onSelect } = this.state;\n\n    if (isAnimating) {\n      return false;\n    }\n\n    if (onSelect) {\n      this._deferAfterAnimation = onSelect.bind(this, index);\n    }\n\n    return this._animateOut();\n  };\n\n  _animateOut = (): boolean => {\n    const { isAnimating, overlayOpacity, sheetOpacity } = this.state;\n\n    if (isAnimating) {\n      return false;\n    }\n\n    // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n    BackHandler.removeEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n    this.setState({\n      isAnimating: true,\n    });\n    Animated.parallel([\n      Animated.timing(overlayOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n      Animated.timing(sheetOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n    ]).start((result) => {\n      if (result.finished) {\n        this.setState({\n          isVisible: false,\n          isAnimating: false,\n        });\n\n        if (this._deferAfterAnimation) {\n          this._deferAfterAnimation();\n        }\n      }\n    });\n    return true;\n  };\n}\n\nconst styles = StyleSheet.create({\n  flexContainer: {\n    flex: 1,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'black',\n  },\n  sheetContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    top: 0,\n    backgroundColor: 'transparent',\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  sheet: {\n    flex: 1,\n    backgroundColor: 'transparent',\n  },\n});\n"]}